{"version":3,"sources":["utils/webGLUtils/webGLUtils.js","utils/guiUtils/guiUtils.js","utils/squareGameUtils/squareGameUtils.ts","components/SquareGameContainer/SquareGameContainer.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["WEBGL","canvas","document","createElement","window","WebGLRenderingContext","getContext","e","WebGL2RenderingContext","this","getErrorMessage","version","contexts","1","2","message","element","id","style","fontFamily","fontSize","fontWeight","textAlign","background","color","padding","width","margin","replace","innerHTML","bokehChanger","bokehPass","paramName","paramsValue","uniforms","value","randomNumberRange","min","max","Math","random","randomLoseMessage","floor","randomWinMessage","SquareGameContainer","_React$useState","React","useState","_React$useState2","Object","slicedToArray","quality","setQuality","useEffect","isWebGLAvailable","renderer","THREE","antialias","alpha","setSize","innerWidth","innerHeight","setPixelRatio","devicePixelRatio","autoClear","clear","isMobileAspectRatio","console","log","domElement","className","body","contains","getElementById","append","dom","removeChild","scene","camera","position","set","dirLight","rotateX","add","hemiLight","setupSquareGameLights","isHighQuality","levelWin","levelLose","mouse","x","y","addEventListener","aspect","updateProjectionMatrix","params","focus","aperature","maxBlur","BokehPass","aperture","maxblur","composer","EffectComposer","basicRenderPass","RenderPass","addPass","bloomPass","UnrealBloomPass","outputPass","OutputPass","gui","GUI","onChange","close","playerAcceleration","playerGeo","playerMat","emissive","specular","shininess","reflectivity","refractionRatio","playerMesh","geometry","computeBoundingSphere","scale","z","playerBoundingSphere","event","preventDefault","touches","clientX","clientY","vector","unproject","dir","sub","normalize","distance","pos","clone","multiplyScalar","copy","winLoseLevelDiv","bigHand","littleHand","clock","delta","time","timeText","concat","toString","timerDiv","instructionsDiv","moonMat","moonXPos","opacity","moonGeo","moonMesh","hillMat","hillGeo","treeMat","treeMeshArray","treeGeo","i","tempTreeMesh","push","generateTrees","hill1Mesh","hill2Mesh","hill3Mesh","hill4Mesh","apply","toConsumableArray","enemyDirection","enemySpeed","enemyGeo","computeBoundingBox","enemyMat","enemyMesh","enemyBoundingBox","Vector3","setFromObject","enemyMatTween","Tween","material","to","repeat","Infinity","yoyo","easing","Easing","Quadratic","InOut","start","requestAnimationFrame","animate","aniTime","boundingSphere","intersectsSphere","animationPlayState","classList","getDelta","remove","sign","rotateZ","boundingBox","applyMatrix4","matrixWorld","update","render","squareGameFunctionality","warning","getWebGLErrorMessage","appendChild","react_default","a","data-testid","onClick","App","SquareGameContainer_SquareGameContainer_SquareGameContainer","key","reportWebVitals","onPerfEntry","Function","__webpack_require__","then","bind","_ref","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","StrictMode","src_App"],"mappings":"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","file":"static/js/main.4f04b200.chunk.js","sourcesContent":["// Not my code, came from https://github.com/mrdoob/three.js/blob/master/examples/jsm/WebGL.js\r\n\r\nclass WEBGL {\r\n\r\n\tstatic isWebGLAvailable() {\r\n\r\n\t\ttry {\r\n\r\n\t\t\tconst canvas = document.createElement( 'canvas' );\r\n\t\t\treturn !! ( window.WebGLRenderingContext && ( canvas.getContext( 'webgl' ) || canvas.getContext( 'experimental-webgl' ) ) );\r\n\r\n\t\t} catch ( e ) {\r\n\r\n\t\t\treturn false;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tstatic isWebGL2Available() {\r\n\r\n\t\ttry {\r\n\r\n\t\t\tconst canvas = document.createElement( 'canvas' );\r\n\t\t\treturn !! ( window.WebGL2RenderingContext && canvas.getContext( 'webgl2' ) );\r\n\r\n\t\t} catch ( e ) {\r\n\r\n\t\t\treturn false;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tstatic getWebGLErrorMessage() {\r\n\r\n\t\treturn this.getErrorMessage( 1 );\r\n\r\n\t}\r\n\r\n\tstatic getWebGL2ErrorMessage() {\r\n\r\n\t\treturn this.getErrorMessage( 2 );\r\n\r\n\t}\r\n\r\n\tstatic getErrorMessage( version ) {\r\n\r\n\t\tconst names = {\r\n\t\t\t1: 'WebGL',\r\n\t\t\t2: 'WebGL 2'\r\n\t\t};\r\n\r\n\t\tconst contexts = {\r\n\t\t\t1: window.WebGLRenderingContext,\r\n\t\t\t2: window.WebGL2RenderingContext\r\n\t\t};\r\n\r\n\t\tlet message = 'Your $0 does not seem to support <a href=\"http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation\" style=\"color:#000\">$1</a>';\r\n\r\n\t\tconst element = document.createElement( 'div' );\r\n\t\telement.id = 'webglmessage';\r\n\t\telement.style.fontFamily = 'monospace';\r\n\t\telement.style.fontSize = '13px';\r\n\t\telement.style.fontWeight = 'normal';\r\n\t\telement.style.textAlign = 'center';\r\n\t\telement.style.background = '#fff';\r\n\t\telement.style.color = '#000';\r\n\t\telement.style.padding = '1.5em';\r\n\t\telement.style.width = '400px';\r\n\t\telement.style.margin = '5em auto 0';\r\n\r\n\t\tif ( contexts[ version ] ) {\r\n\r\n\t\t\tmessage = message.replace( '$0', 'graphics card' );\r\n\r\n\t\t} else {\r\n\r\n\t\t\tmessage = message.replace( '$0', 'browser' );\r\n\r\n\t\t}\r\n\r\n\t\tmessage = message.replace( '$1', names[ version ] );\r\n\r\n\t\telement.innerHTML = message;\r\n\r\n\t\treturn element;\r\n\r\n\t}\r\n\r\n}\r\n\r\nexport { WEBGL };","export const bokehChanger = (bokehPass, paramName, paramsValue) => {\r\n    bokehPass.uniforms[paramName].value = paramsValue;\r\n}","import * as THREE from 'three';\r\nimport { Vector3 } from 'three';\r\nimport { GUI } from 'three/examples/jsm/libs/lil-gui.module.min';\r\nimport { EffectComposer } from 'three/examples/jsm/postprocessing/EffectComposer';\r\nimport { RenderPass } from 'three/examples/jsm/postprocessing/RenderPass';\r\nimport { BokehPass } from 'three/examples/jsm/postprocessing/BokehPass';\r\nimport { UnrealBloomPass } from 'three/examples/jsm/postprocessing/UnrealBloomPass';\r\nimport { OutputPass } from 'three/examples/jsm/postprocessing/OutputPass';\r\nimport { Tween, Easing } from '@tweenjs/tween.js';\r\nimport { bokehChanger } from '../guiUtils/guiUtils';\r\n\r\nexport const setupSquareGameLights = ( scene: THREE.Scene ) => {\r\n    let dirLight = new THREE.DirectionalLight('rgb(255,150,80)', 1);\r\n    dirLight.position.set( 500, 300, -500 );\r\n    dirLight.rotateX(50);\r\n    scene.add( dirLight );\r\n\r\n    // Directional light helper (temp af)\r\n    const helpDirLight = new THREE.DirectionalLightHelper( dirLight );\r\n    //scene.add( helpDirLight );\r\n\r\n    let hemiLight = new THREE.HemisphereLight(0xffffff, 0x232323, 1);\r\n    scene.add( hemiLight );\r\n};\r\n\r\nexport const squareGameFunctionality = (\r\n    scene: THREE.Scene,\r\n    renderer: any,\r\n    camera: THREE.PerspectiveCamera,\r\n    quality: any,\r\n    isMobileAspectRatio: boolean) => {\r\n\r\n      const isHighQuality = quality === 1;\r\n\r\n      let levelWin = false;\r\n      let levelLose = false;\r\n\r\n      let mouse = {x: 0, y: 0};\r\n\r\n      // Window Resizing\r\n      window.addEventListener( 'resize', onWindowResize );\r\n      function onWindowResize() {\r\n\r\n\t\t\t\tcamera.aspect = window.innerWidth / window.innerHeight;\r\n\t\t\t\tcamera.updateProjectionMatrix();\r\n\r\n\t\t\t\trenderer.setSize( window.innerWidth, window.innerHeight );\r\n\t\t\t};\r\n\r\n      // Skybox\r\n      scene.background = new THREE.Color('rgb(18,54,89)');\r\n      // TODO: ADD TEXTURED SKYBOX FOR HIGH QUALITY\r\n      // const r = 'textures/cube/Bridge2/';\r\n      // const urls = [ r + 'posx.jpg', r + 'negx.jpg',\r\n      //             r + 'posy.jpg', r + 'negy.jpg',\r\n      //             r + 'posz.jpg', r + 'negz.jpg' ];\r\n      // const textureCube = new THREE.CubeTextureLoader().load( urls );\r\n\r\n      // scene.background = textureCube;\r\n\r\n      // Depth of Field and Bloom effect setup\r\n      const params = {\r\n        focus: 49,\r\n        aperature: 0.005,\r\n        maxBlur: 0.01\r\n      };\r\n      const bokehPass = new BokehPass( scene, camera, { focus: params.focus, aperture: params.aperature, maxblur: params.maxBlur });\r\n      const composer = new EffectComposer( renderer );\r\n      const basicRenderPass = new RenderPass( scene, camera );\r\n      // TODO: Setup a slider to dynamically check the focus distance to figure out the issue there.\r\n      composer.addPass( basicRenderPass );\r\n      if (quality === 1) {\r\n        composer.addPass(bokehPass);\r\n        const bloomPass = new UnrealBloomPass( new THREE.Vector2(window.innerWidth, window.innerHeight), 0.7, 0.09, 0.09);\r\n        composer.addPass(bloomPass);\r\n      }\r\n      const outputPass = new OutputPass();\r\n      composer.addPass( outputPass );\r\n\r\n      // set up gui\r\n      if (!isMobileAspectRatio) {\r\n        const gui = new GUI();\r\n        gui.add( params, 'focus', 0.0, 400.0, 0.5).onChange(() => bokehChanger(bokehPass, 'focus', params.focus));\r\n        gui.add( params, 'aperature', 0.0, 1.0, 0.001).onChange(() => bokehChanger(bokehPass, 'aperture', params.aperature));\r\n        gui.add( params, 'maxBlur', 0.0, 0.05, 0.001).onChange(() => bokehChanger(bokehPass, 'maxblur', params.maxBlur));\r\n        gui.close();\r\n      }\r\n\r\n      // Player sphere creation\r\n      let playerAcceleration = 0;\r\n      const playerGeo = new THREE.SphereGeometry(isMobileAspectRatio ? 4 : 6, isHighQuality ? 16 : 8, isHighQuality ? 36 : 18);\r\n      const playerMat = new THREE.MeshPhongMaterial({\r\n          color: 'rgb(23,195,230)',\r\n          emissive: 'rgb(0,0,0)',\r\n          specular: 'rgb(255,220,0)',\r\n          shininess: 30,\r\n          reflectivity: 1,\r\n          refractionRatio: 0.98\r\n      });\r\n      let playerMesh = new THREE.Mesh( playerGeo, playerMat );\r\n      playerMesh.geometry.computeBoundingSphere();\r\n      playerMesh.position.set(0,0,-50);\r\n      playerMesh.scale.z = 0.15;\r\n      let playerBoundingSphere = new THREE.Sphere(playerMesh.position, isMobileAspectRatio ? 4 : 6);\r\n      scene.add( playerMesh );\r\n      console.log('camera pos z: ', camera.position.z);\r\n      console.log('player pos z', playerMesh.position.z);\r\n      console.log('distance z: ', camera.position.z - playerMesh.position.z);\r\n\r\n      const onMouseMove = ( event: MouseEvent ) => {\r\n          event.preventDefault();\r\n          if(!levelLose && !levelWin) {\r\n            mouse.x = (event.clientX / window.innerWidth) * 2 - 1;\r\n            mouse.y = - (event.clientY / window.innerHeight) * 2 + 1;\r\n        \r\n            // Make the sphere follow the mouse\r\n            let vector = new THREE.Vector3(mouse.x, mouse.y, 0.5);\r\n            vector.unproject( camera );\r\n            let dir = vector.sub( camera.position ).normalize();\r\n            let distance = - (camera.position.z + 50) / dir.z;\r\n            let pos = camera.position.clone().add( dir.multiplyScalar( distance ) );\r\n            playerMesh.position.copy(pos);\r\n          }\r\n      };\r\n\r\n      const onTouchMove = ( event: TouchEvent ) => {\r\n        event.preventDefault();\r\n        if(!levelLose && !levelWin) {\r\n          mouse.x = (event.touches[0].clientX / window.innerWidth) * 2 - 1;\r\n          mouse.y = - (event.touches[0].clientY / window.innerHeight) * 2 + 1;\r\n      \r\n          // Make the sphere follow the mouse\r\n          let vector = new THREE.Vector3(mouse.x, mouse.y, 0.5);\r\n          vector.unproject( camera );\r\n          let dir = vector.sub( camera.position ).normalize();\r\n          let distance = - (camera.position.z + 50) / dir.z;\r\n          let pos = camera.position.clone().add( dir.multiplyScalar( distance ) );\r\n          playerMesh.position.copy(pos);\r\n        }\r\n    };\r\n\r\n      // When the mouse moves, call the given function\r\n      if (isMobileAspectRatio) {\r\n        document.addEventListener('touchmove', onTouchMove, false);\r\n      } else {\r\n        document.addEventListener('mousemove', onMouseMove, false);\r\n      }\r\n\r\n      // Level setup\r\n      let level = 1;\r\n      const LEVEL_1_TIME = 50;\r\n\r\n      const winLoseLevelDiv = document.getElementById('winLoseText');\r\n\r\n      // Timer UI setup\r\n      const bigHand = document.getElementById('timerBigLineAni');\r\n      const littleHand = document.getElementById('timerSmallLineAni');\r\n      let clock = new THREE.Clock();\r\n      let speed = 1;\r\n      let delta = 0;\r\n      let time = LEVEL_1_TIME;\r\n      let timeText: string = `Left: ${LEVEL_1_TIME.toString()}`;\r\n\r\n      const timerDiv = document.getElementById('timerDiv');\r\n      const instructionsDiv = document.getElementById('instructionsContainer');\r\n      \r\n      // BG Objects setup\r\n      const moonMat = new THREE.MeshPhongMaterial({\r\n        color: 'rgb(175,130,85)',\r\n        emissive: 'rgb(175,130,85)',\r\n        specular: 'rgb(50,50,50)',\r\n        shininess: 0,\r\n        reflectivity: 0,\r\n        refractionRatio: 0\r\n      });\r\n      let moonXPos = 500;\r\n      if (isMobileAspectRatio) {    \r\n        moonXPos = 375;\r\n      }\r\n      console.log('moon x pos: ', moonXPos);\r\n      moonMat.opacity = 0.1;\r\n      const moonGeo = new THREE.SphereGeometry(400, isHighQuality ? 30 : 15, isHighQuality ? 30 : 15);\r\n      const moonMesh = new THREE.Mesh( moonGeo, moonMat );\r\n      moonMesh.position.set(moonXPos, 300, -400);\r\n      moonMesh.scale.z = 0.1;\r\n      const hillMat = new THREE.MeshPhongMaterial({\r\n        color: 'rgb(15,59,102)',\r\n        emissive: 'rgb(0,0,0)',\r\n        specular: 'rgb(255,230,50)',\r\n        shininess: 2,\r\n        reflectivity: 0.1,\r\n        refractionRatio: 0.1\r\n      });\r\n      const hillGeo = new THREE.SphereGeometry(175, isHighQuality ? 20 : 10, isHighQuality ? 20 : 10);\r\n      const NUM_OF_TREES = 35;\r\n      const treeMat = new THREE.MeshPhongMaterial({\r\n        color: 'rgb(23,69,115)',\r\n        emissive: 'rgb(0,0,0)',\r\n        specular: 'rgb(200,180,50)',\r\n        shininess: 1,\r\n        reflectivity: 0.1,\r\n        refractionRatio: 0.1\r\n      });\r\n      let treeMeshArray: THREE.Mesh[] = [];\r\n      const treeGeo = new THREE.ConeGeometry(50,150, isHighQuality ? 12 : 6, isHighQuality ? 6 : 3);\r\n      const generateTrees = (): THREE.Mesh[] => {\r\n        for(let i = 0; i < NUM_OF_TREES; i++) {\r\n          const tempTreeMesh = new THREE.Mesh( treeGeo, treeMat );\r\n          tempTreeMesh.position.set(-2000+(i*randomNumberRange(70,140)),-150+(Math.random()*30),-200);\r\n          treeMeshArray.push(tempTreeMesh);\r\n        }\r\n        return treeMeshArray;\r\n      };\r\n      treeMeshArray = generateTrees();\r\n      let hill1Mesh = new THREE.Mesh( hillGeo, hillMat );\r\n      hill1Mesh.position.set(-300,-175,-300);\r\n      hill1Mesh.scale.set(1.2,1.5,0.4);\r\n      let hill2Mesh = new THREE.Mesh( hillGeo, hillMat );\r\n      hill2Mesh.position.set(0,-250,-300);\r\n      hill2Mesh.scale.set(1.2,1.5,0.4);\r\n      let hill3Mesh = new THREE.Mesh( hillGeo, hillMat );\r\n      hill3Mesh.position.set(600,-175,-300);\r\n      hill3Mesh.scale.set(1.2,1.5,0.4);\r\n      let hill4Mesh = new THREE.Mesh( hillGeo, hillMat );\r\n      hill4Mesh.position.set(900,-250,-300);\r\n      hill4Mesh.scale.set(1.2,1.5,0.4);\r\n      \r\n\r\n      scene.add( hill1Mesh, hill2Mesh, hill3Mesh, hill4Mesh,\r\n        ...treeMeshArray, moonMesh );\r\n\r\n      // Enemy AI Setup\r\n      let enemyDirection = 1;\r\n      let enemySpeed = 0.15;\r\n      if (isMobileAspectRatio) {\r\n        enemySpeed = 0.005;\r\n      }\r\n      const enemyGeo = new THREE.BoxGeometry(9,9,9,1,1,1);\r\n      enemyGeo.computeBoundingBox();\r\n      const enemyMat = new THREE.MeshPhongMaterial({\r\n        color: 'rgb(230,132,34)'\r\n      })\r\n      const enemyMesh = new THREE.Mesh( enemyGeo, enemyMat );\r\n      enemyMesh.position.set(2350, 0, -50);\r\n      enemyMesh.scale.z = 0.15;\r\n      let enemyBoundingBox = new THREE.Box3(new Vector3, new Vector3);\r\n      enemyBoundingBox.setFromObject(enemyMesh);\r\n      scene.add( enemyMesh );\r\n\r\n      const enemyMatTween = new Tween(enemyMesh.material.color)\r\n          .to(new THREE.Color('rgb(255,210,200)'), 100)\r\n          .repeat(Infinity)\r\n          .yoyo(true)\r\n          .easing(Easing.Quadratic.InOut)\r\n          .start();\r\n\r\n      const animate = (aniTime: any) => {\r\n\r\n        if(playerMesh.geometry.boundingSphere && !levelLose) {\r\n          //console.log('bounding box?: ', !!enemyMesh.geometry.boundingBox);\r\n          //console.log(enemyBoundingBox.distanceToPoint(playerBoundingSphere.center));\r\n          //console.log(!!enemyBoundingBox.intersectsSphere(playerBoundingSphere));\r\n        }\r\n        \r\n        if(!levelLose && !levelWin) {\r\n\r\n          // Collision detection for player and enemy\r\n          if(winLoseLevelDiv && bigHand && littleHand && timerDiv && !levelWin && playerMesh.geometry.boundingSphere &&\r\n            enemyBoundingBox.intersectsSphere(playerBoundingSphere)) {\r\n            levelLose = true;\r\n            console.log('COLLISION');\r\n            bigHand.style.animationPlayState = 'paused';\r\n            littleHand.style.animationPlayState = 'paused';\r\n            timerDiv.classList.add('blink');\r\n            winLoseLevelDiv.classList.add('slowUIEnter');\r\n            winLoseLevelDiv.innerHTML = randomLoseMessage();\r\n          }\r\n\r\n          // Setup timer\r\n          delta = clock.getDelta();\r\n          time -= (speed * delta);\r\n          timeText = `Left: ${Math.floor(time)}`;\r\n          if (timerDiv) {\r\n            timerDiv.innerHTML = timeText;\r\n          };\r\n\r\n          // Removing the instructions UI\r\n          if (time <= 45 && instructionsDiv && !instructionsDiv.classList.contains('exitDom')) {\r\n            instructionsDiv.classList.add('exitDom');\r\n          }\r\n          if (time <= 44 && instructionsDiv) {\r\n            instructionsDiv.remove();\r\n          }\r\n\r\n          // BG movement\r\n          hill1Mesh.position.x -= 0.04;\r\n          hill2Mesh.position.x -= 0.04;\r\n          hill3Mesh.position.x -= 0.04;\r\n          hill4Mesh.position.x -= 0.04;\r\n\r\n          for(let i = 0; i < NUM_OF_TREES; i++) {\r\n            treeMeshArray[i].position.x -= 6;\r\n            if(treeMeshArray[i].position.x <= -2000) {\r\n              treeMeshArray[i].position.x = 2000\r\n            }\r\n          };\r\n\r\n          // Winning trigger logic\r\n          if(winLoseLevelDiv && bigHand && littleHand && Math.floor(time) <= 0) {\r\n            levelWin = true;\r\n            bigHand.style.animationPlayState = 'paused';\r\n            littleHand.style.animationPlayState = 'paused';\r\n            winLoseLevelDiv.classList.add('slowUIEnter');\r\n            winLoseLevelDiv.classList.add('winningAnimation');\r\n            winLoseLevelDiv.innerHTML = randomWinMessage();\r\n          }\r\n        }\r\n\r\n          // Enemy movement \r\n          enemyDirection = Math.sign(playerMesh.position.y);\r\n          enemyMesh.rotateZ(0.05);\r\n          enemyMesh.position.x -= isMobileAspectRatio ? 4.5 : 3;\r\n          enemyMesh.position.y += enemyDirection*enemySpeed;\r\n          if(enemyMesh.position.y === playerMesh.position.y ||\r\n            (enemyDirection >= 0 ? enemyMesh.position.y > playerMesh.position.y :\r\n              enemyMesh.position.y < playerMesh.position.y)) {\r\n            enemyMesh.position.y = playerMesh.position.y;\r\n          }\r\n          if(enemyMesh.position.x <= -250 && !levelWin && !levelLose) {\r\n            enemyMesh.position.x  = randomNumberRange(150,750);\r\n          }\r\n          else if (enemyMesh.position.x <= -250 && (levelLose || levelLose)) {\r\n            enemyMesh.position.x = -249;\r\n          }\r\n          // Have the enemy bounding box follow the enemy's position\r\n          if (enemyMesh.geometry.boundingBox) {\r\n            enemyBoundingBox.copy( enemyMesh.geometry.boundingBox ).applyMatrix4( enemyMesh.matrixWorld );\r\n          }\r\n\r\n          // Enemy material animation\r\n          enemyMatTween.update(aniTime);\r\n\r\n          if (levelLose) {\r\n            playerAcceleration += 0.1;\r\n            playerMesh.position.y -= 0.1+playerAcceleration;\r\n\r\n            // BG movement\r\n            hill1Mesh.position.x -= 0.008;\r\n            hill2Mesh.position.x -= 0.008;\r\n            hill3Mesh.position.x -= 0.008;\r\n            hill4Mesh.position.x -= 0.008;\r\n\r\n            for(let i = 0; i < NUM_OF_TREES; i++) {\r\n              treeMeshArray[i].position.x -= 0.2;\r\n              if(treeMeshArray[i].position.x <= -2000) {\r\n                treeMeshArray[i].position.x = 2000\r\n              }\r\n            };\r\n          } else if (levelWin) {\r\n            playerAcceleration += 0.1;\r\n            playerMesh.position.x += 0.1+playerAcceleration;\r\n\r\n            // BG movement\r\n            hill1Mesh.position.x -= 0.008;\r\n            hill2Mesh.position.x -= 0.008;\r\n            hill3Mesh.position.x -= 0.008;\r\n            hill4Mesh.position.x -= 0.008;\r\n\r\n            for(let i = 0; i < NUM_OF_TREES; i++) {\r\n              treeMeshArray[i].position.x -= 0.2;\r\n              if(treeMeshArray[i].position.x <= -2000) {\r\n                treeMeshArray[i].position.x = 2000\r\n              }\r\n            };\r\n          }\r\n\r\n          requestAnimationFrame(animate);\r\n\r\n          composer.render( 0.1 ); // 0.1 is the delta time value\r\n      };\r\n\r\n      requestAnimationFrame(animate);\r\n};\r\n\r\nconst randomNumberRange = (min: number, max: number) => { \r\n  return Math.random() * (max - min) + min;\r\n};\r\n\r\nconst randomLoseMessage = (): string => {\r\n  const randomNum = Math.floor(randomNumberRange(0,4));\r\n  const loseMessages = [\r\n    'Yikes. I mean you can always refresh to try again.',\r\n    'Uh ooooh. Refresh time?',\r\n    'That\\'s a bummer my guy. Refresh?',\r\n    'Yeah, you better refresh dude. That suckssss'\r\n  ];\r\n  return loseMessages[randomNum];\r\n};\r\n\r\nconst randomWinMessage = (): string => {\r\n  const randomNum = Math.floor(randomNumberRange(0,4));\r\n  const winMessages = [\r\n    'You fucking won dude! Refresh to give it another go.',\r\n    'Wowzers brah! I\\'m feeling a refresh comming on.',\r\n    'Ho boi! Dats what\\'s up. Refresh?',\r\n    'Wiener gogeener shliener man! Refresh tiiiime.'\r\n  ];\r\n  return winMessages[randomNum];\r\n};","import React, { ReactElement } from 'react';\r\nimport * as THREE from 'three';\r\nimport { WEBGL } from '../../utils/webGLUtils/webGLUtils';\r\nimport { setupSquareGameLights, squareGameFunctionality } from '../../utils/squareGameUtils/squareGameUtils';\r\nimport './SquareGameContainer.css';\r\n\r\nexport const SquareGameContainer = (): ReactElement => {\r\n\r\n    const [quality, setQuality] = React.useState<number>(1); // 2.5 = low quality | 1 = highest quality\r\n\r\n    const toggleQuality = () => {\r\n        if (quality === 2.5) {\r\n            setQuality(1);\r\n        } else {\r\n            setQuality(2.5);\r\n        }\r\n    };\r\n\r\n    React.useEffect(() => {\r\n        // This runs twice when running this locally, but only once when you build or deploy the code.\r\n        if ( WEBGL.isWebGLAvailable() ) {\r\n            \r\n            // Renderer setup\r\n            let renderer = new THREE.WebGLRenderer({ antialias: false, alpha: true }); // needs 'alpha' to be true for CSS gradient background\r\n            renderer.setSize( window.innerWidth, window.innerHeight);\r\n            renderer.setPixelRatio( window.devicePixelRatio/quality );\r\n            renderer.autoClear = false;\r\n            renderer.clear();\r\n\r\n            let isMobileAspectRatio = false;\r\n            console.log('window height: ', window.innerHeight)\r\n            console.log('window width: ', window.innerWidth)\r\n            if(window.innerHeight > window.innerWidth) {\r\n                isMobileAspectRatio = true;\r\n            }\r\n\r\n            renderer.domElement.id = 'dom';\r\n            renderer.domElement.className = 'position-fixed';\r\n            if (document.body.contains( document.getElementById( 'dom' ) ) === false) {\r\n                document.body.append( renderer.domElement );\r\n            } else {\r\n                const dom = document.getElementById('dom');\r\n                if(dom !== null) {\r\n                    document.body.removeChild( dom );\r\n                    document.body.append( renderer.domElement );\r\n                } \r\n            };\r\n\r\n            // Camera / Scene setup\r\n            let scene = new THREE.Scene();\r\n            let camera = new THREE.PerspectiveCamera(70, window.innerWidth / window.innerHeight, 1, 3000);\r\n            camera.position.set(0, 0, 0);\r\n            //camera.setFocalLength(35);\r\n\r\n            setupSquareGameLights( scene );\r\n\r\n            squareGameFunctionality( scene, renderer, camera, quality, isMobileAspectRatio );\r\n            \r\n        } else {\r\n            const warning = WEBGL.getWebGLErrorMessage();\r\n            document.body.appendChild( warning );\r\n        }\r\n    }, [quality]);\r\n\r\n    return (\r\n        <div data-testid='canvas' id='canvas'>\r\n            <button id='qualityBtn' onClick={toggleQuality}>\r\n                QUALITY\r\n            </button>\r\n            <div id='timerContainer'>\r\n                <div id='timerCircleAni'>\r\n                    <div id='timerBigLineAni'></div>\r\n                    <div id='timerMiddleDot'></div>\r\n                    <div id='timerSmallLineAni'></div>\r\n                </div>\r\n                <div id='timerDiv'></div>\r\n            </div>\r\n            <div id='instructionsContainer'>\r\n                <div id='instructionsText'>Avoid the Squares!</div>\r\n            </div>\r\n            <div id='winLoseText'></div>\r\n        </div>\r\n    )\r\n};","import React from 'react';\nimport './App.css';\nimport { SquareGameContainer } from './components/SquareGameContainer/SquareGameContainer';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <SquareGameContainer key={0} />\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(\n  document.getElementById('root') as HTMLElement\n);\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}