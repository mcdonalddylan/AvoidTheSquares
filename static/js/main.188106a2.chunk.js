(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,n,t){e.exports=t(36)},33:function(e,n,t){},34:function(e,n,t){},35:function(e,n,t){},36:function(e,n,t){"use strict";t.r(n);var i=t(7),o=t.n(i),r=t(17),a=t.n(r),s=(t(33),t(34),t(9)),d=t(5),c=t(1),l=t(2),u=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"isWebGLAvailable",value:function(){try{var e=document.createElement("canvas");return!(!window.WebGLRenderingContext||!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(n){return!1}}},{key:"isWebGL2Available",value:function(){try{var e=document.createElement("canvas");return!(!window.WebGL2RenderingContext||!e.getContext("webgl2"))}catch(n){return!1}}},{key:"getWebGLErrorMessage",value:function(){return this.getErrorMessage(1)}},{key:"getWebGL2ErrorMessage",value:function(){return this.getErrorMessage(2)}},{key:"getErrorMessage",value:function(e){var n={1:window.WebGLRenderingContext,2:window.WebGL2RenderingContext},t='Your $0 does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000">$1</a>',i=document.createElement("div");return i.id="webglmessage",i.style.fontFamily="monospace",i.style.fontSize="13px",i.style.fontWeight="normal",i.style.textAlign="center",i.style.background="#fff",i.style.color="#000",i.style.padding="1.5em",i.style.width="400px",i.style.margin="5em auto 0",t=(t=n[e]?t.replace("$0","graphics card"):t.replace("$0","browser")).replace("$1",{1:"WebGL",2:"WebGL 2"}[e]),i.innerHTML=t,i}}]),e}(),m=t(11),p=t(20),w=t(22),g=t(18),f=t(21),v=t(12),y=t(19),h=t(23),b=t(24),x=t(14),E=function(e,n,t){e.uniforms[n].value=t},L=function(e,n){return Math.random()*(n-e)+e},W=function(){return["Yikes. I mean you can always refresh to try again.","Uh ooooh. Refresh time?","That's a bummer my guy. Refresh?","Yeah, you better refresh dude. That suckssss"][Math.floor(L(0,4))]},z=function(){return["You fucking won dude! Refresh to give it another go.","Wowzers brah! I'm feeling a refresh comming on.","Ho boi! Dats what's up. Refresh?","Wiener gogeener shliener man! Refresh tiiiime."][Math.floor(L(0,4))]},C=(t(35),function(){var e=o.a.useState(1),n=Object(s.a)(e,2),t=n[0],i=n[1];return o.a.useEffect(function(){if(u.isWebGLAvailable()){var e=new d.M({antialias:!1,alpha:!0});e.setSize(window.innerWidth,window.innerHeight),e.setPixelRatio(window.devicePixelRatio/t),e.autoClear=!1,e.clear();var n=!1;if(console.log("window height: ",window.innerHeight),console.log("window width: ",window.innerWidth),window.innerHeight>window.innerWidth&&(n=!0),e.domElement.id="dom",e.domElement.className="position-fixed",!1===document.body.contains(document.getElementById("dom")))document.body.append(e.domElement);else{var i=document.getElementById("dom");null!==i&&(document.body.removeChild(i),document.body.append(e.domElement))}var o=new d.E,r=new d.z(70,window.innerWidth/window.innerHeight,1,3e3);r.position.set(0,0,0),function(e){var n=new d.l("rgb(255,150,80)",1);n.position.set(500,300,-500),n.rotateX(50),e.add(n);new d.m(n);var t=new d.p(16777215,2302755,1);e.add(t)}(o),function(e,n,t,i,o){var r=1===i,a=!1,s=!1,c={x:0,y:0};window.addEventListener("resize",function(){t.aspect=window.innerWidth/window.innerHeight,t.updateProjectionMatrix(),n.setSize(window.innerWidth,window.innerHeight)}),e.background=new d.i("rgb(18,54,89)");var l={focus:49,aperature:.005,maxBlur:.01},u=new f.a(e,t,{focus:l.focus,aperture:l.aperature,maxblur:l.maxBlur}),C=new w.a(n),M=new g.a(e,t);if(C.addPass(M),1===i){C.addPass(u);var B=new h.a(new d.J(window.innerWidth,window.innerHeight),.7,.09,.09);C.addPass(B);var S=new v.a(y.a);S.uniforms.offset.value=.7,S.uniforms.darkness.value=1.1,C.addPass(S)}var k=new b.a;if(C.addPass(k),!o){var I=new p.a;I.add(l,"focus",0,400,.5).onChange(function(){return E(u,"focus",l.focus)}),I.add(l,"aperature",0,1,.001).onChange(function(){return E(u,"aperture",l.aperature)}),I.add(l,"maxBlur",0,.05,.001).onChange(function(){return E(u,"maxblur",l.maxBlur)}),I.close()}var H=0,R=new d.H(o?4:6,r?16:8,r?36:18),A=new d.u({color:"rgb(23,195,230)",emissive:"rgb(0,0,0)",specular:"rgb(255,220,0)",shininess:30,reflectivity:1,refractionRatio:.98}),G=new d.r(R,A);G.geometry.computeBoundingSphere(),G.position.set(0,0,-50),G.scale.z=.15;var P=new d.G(G.position,o?4:6);e.add(G),console.log("camera pos z: ",t.position.z),console.log("player pos z",G.position.z),console.log("distance z: ",t.position.z-G.position.z);o?document.addEventListener("touchmove",function(e){if(e.preventDefault(),!s&&!a){c.x=e.touches[0].clientX/window.innerWidth*2-1,c.y=-e.touches[0].clientY/window.innerHeight*2+1;var n=new d.K(c.x,c.y,.5);n.unproject(t);var i=n.sub(t.position).normalize(),o=-(t.position.z+50)/i.z,r=t.position.clone().add(i.multiplyScalar(o));G.position.copy(r)}},!1):document.addEventListener("mousemove",function(e){if(e.preventDefault(),!s&&!a){c.x=e.clientX/window.innerWidth*2-1,c.y=-e.clientY/window.innerHeight*2+1;var n=new d.K(c.x,c.y,.5);n.unproject(t);var i=n.sub(t.position).normalize(),o=-(t.position.z+50)/i.z,r=t.position.clone().add(i.multiplyScalar(o));G.position.copy(r)}},!1);var T=document.getElementById("winLoseText"),D=document.getElementById("timerBigLineAni"),j=document.getElementById("timerSmallLineAni"),F=new d.h,O=0,Y=50,$="Left: ".concat(50..toString()),q=document.getElementById("timerDiv"),K=document.getElementById("instructionsContainer"),U=new d.u({color:"rgb(175,130,85)",emissive:"rgb(175,130,85)",specular:"rgb(50,50,50)",shininess:0,reflectivity:0,refractionRatio:0}),J=500;o&&(J=375),console.log("moon x pos: ",J),U.opacity=.1;var N=new d.H(400,r?30:15,r?30:15),X=new d.r(N,U);X.position.set(J,300,-400),X.scale.z=.1;var _=new d.u({color:"rgb(15,59,102)",emissive:"rgb(0,0,0)",specular:"rgb(255,230,50)",shininess:2,reflectivity:.1,refractionRatio:.1}),Q=new d.H(175,r?20:10,r?20:10),Z=new d.u({color:"rgb(23,69,115)",emissive:"rgb(0,0,0)",specular:"rgb(200,180,50)",shininess:1,reflectivity:.1,refractionRatio:.1}),V=[],ee=new d.k(50,150,r?12:6,r?6:3);V=function(){for(var e=0;e<35;e++){var n=new d.r(ee,Z);n.position.set(e*L(70,140)-2e3,30*Math.random()-150,-200),V.push(n)}return V}();var ne=new d.r(Q,_);ne.position.set(-300,-175,-300),ne.scale.set(1.2,1.5,.4);var te=new d.r(Q,_);te.position.set(0,-250,-300),te.scale.set(1.2,1.5,.4);var ie=new d.r(Q,_);ie.position.set(600,-175,-300),ie.scale.set(1.2,1.5,.4);var oe=new d.r(Q,_);oe.position.set(900,-250,-300),oe.scale.set(1.2,1.5,.4),e.add.apply(e,[ne,te,ie,oe].concat(Object(m.a)(V),[X]));var re=1,ae=.15;o&&(ae=.005);var se=new d.e(9,9,9,1,1,1);se.computeBoundingBox();var de=new d.u({color:"rgb(230,132,34)"}),ce=new d.r(se,de);ce.position.set(2350,0,-50),ce.scale.z=.15;var le=new d.d(new d.K,new d.K);le.setFromObject(ce),e.add(ce);var ue=new x.b(ce.material.color).to(new d.i("rgb(255,210,200)"),100).repeat(1/0).yoyo(!0).easing(x.a.Quadratic.InOut).start();requestAnimationFrame(function e(n){if(G.geometry.boundingSphere,!s&&!a){T&&D&&j&&q&&!a&&G.geometry.boundingSphere&&le.intersectsSphere(P)&&(s=!0,console.log("COLLISION"),D.style.animationPlayState="paused",j.style.animationPlayState="paused",q.classList.add("blink"),T.classList.add("slowUIEnter"),T.innerHTML=W()),O=F.getDelta(),Y-=1*O,$="Left: ".concat(Math.floor(Y)),q&&(q.innerHTML=$),Y<=45&&K&&!K.classList.contains("exitDom")&&K.classList.add("exitDom"),Y<=44&&K&&K.remove(),ne.position.x-=.04,te.position.x-=.04,ie.position.x-=.04,oe.position.x-=.04;for(var t=0;t<35;t++)V[t].position.x-=6,V[t].position.x<=-2e3&&(V[t].position.x=2e3);T&&D&&j&&Math.floor(Y)<=0&&(a=!0,D.style.animationPlayState="paused",j.style.animationPlayState="paused",T.classList.add("slowUIEnter"),T.classList.add("winningAnimation"),T.innerHTML=z())}if(re=Math.sign(G.position.y),ce.rotateZ(.05),ce.position.x-=o?4.5:3,ce.position.y+=re*ae,(ce.position.y===G.position.y||(re>=0?ce.position.y>G.position.y:ce.position.y<G.position.y))&&(ce.position.y=G.position.y),ce.position.x<=-250&&!a&&!s?ce.position.x=L(150,750):ce.position.x<=-250&&(s||s)&&(ce.position.x=-249),ce.geometry.boundingBox&&le.copy(ce.geometry.boundingBox).applyMatrix4(ce.matrixWorld),ue.update(n),s){H+=.1,G.position.y-=.1+H,ne.position.x-=.008,te.position.x-=.008,ie.position.x-=.008,oe.position.x-=.008;for(var i=0;i<35;i++)V[i].position.x-=.2,V[i].position.x<=-2e3&&(V[i].position.x=2e3)}else if(a){H+=.1,G.position.x+=.1+H,ne.position.x-=.008,te.position.x-=.008,ie.position.x-=.008,oe.position.x-=.008;for(var r=0;r<35;r++)V[r].position.x-=.2,V[r].position.x<=-2e3&&(V[r].position.x=2e3)}requestAnimationFrame(e),C.render(.1)})}(o,e,r,t,n)}else{var a=u.getWebGLErrorMessage();document.body.appendChild(a)}},[t]),o.a.createElement("div",{"data-testid":"canvas",id:"canvas"},o.a.createElement("button",{id:"qualityBtn",onClick:function(){i(2.5===t?1:2.5)}},"QUALITY"),o.a.createElement("div",{id:"timerContainer"},o.a.createElement("div",{id:"timerCircleAni"},o.a.createElement("div",{id:"timerBigLineAni"}),o.a.createElement("div",{id:"timerMiddleDot"}),o.a.createElement("div",{id:"timerSmallLineAni"})),o.a.createElement("div",{id:"timerDiv"})),o.a.createElement("div",{id:"instructionsContainer"},o.a.createElement("div",{id:"instructionsText"},"Avoid the Squares!")),o.a.createElement("div",{id:"winLoseText"}))});var M=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(C,{key:0}))},B=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,37)).then(function(n){var t=n.getCLS,i=n.getFID,o=n.getFCP,r=n.getLCP,a=n.getTTFB;t(e),i(e),o(e),r(e),a(e)})};a.a.createRoot(document.getElementById("root")).render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(M,null))),B()}},[[25,1,2]]]);
//# sourceMappingURL=main.188106a2.chunk.js.map