(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,n,t){e.exports=t(34)},31:function(e,n,t){},32:function(e,n,t){},33:function(e,n,t){},34:function(e,n,t){"use strict";t.r(n);var i=t(7),o=t.n(i),r=t(16),a=t.n(r),s=(t(31),t(32),t(9)),d=t(5),c=t(1),l=t(2),u=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"isWebGLAvailable",value:function(){try{var e=document.createElement("canvas");return!(!window.WebGLRenderingContext||!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(n){return!1}}},{key:"isWebGL2Available",value:function(){try{var e=document.createElement("canvas");return!(!window.WebGL2RenderingContext||!e.getContext("webgl2"))}catch(n){return!1}}},{key:"getWebGLErrorMessage",value:function(){return this.getErrorMessage(1)}},{key:"getWebGL2ErrorMessage",value:function(){return this.getErrorMessage(2)}},{key:"getErrorMessage",value:function(e){var n={1:window.WebGLRenderingContext,2:window.WebGL2RenderingContext},t='Your $0 does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000">$1</a>',i=document.createElement("div");return i.id="webglmessage",i.style.fontFamily="monospace",i.style.fontSize="13px",i.style.fontWeight="normal",i.style.textAlign="center",i.style.background="#fff",i.style.color="#000",i.style.padding="1.5em",i.style.width="400px",i.style.margin="5em auto 0",t=(t=n[e]?t.replace("$0","graphics card"):t.replace("$0","browser")).replace("$1",{1:"WebGL",2:"WebGL 2"}[e]),i.innerHTML=t,i}}]),e}(),m=t(11),p=t(18),w=t(19),g=t(17),f=t(20),v=t(21),y=t(22),h=t(13),b=function(e,n,t){e.uniforms[n].value=t},x=function(e,n){return Math.random()*(n-e)+e},E=function(){return["Yikes. I mean you can always refresh to try again.","Uh ooooh. Refresh time?","That's a bummer my guy. Refresh?","Yeah, you better refresh dude. That suckssss"][Math.floor(x(0,4))]},L=function(){return["You fucking won dude! Refresh to give it another go.","Wowzers brah! I'm feeling a refresh comming on.","Ho boi! Dats what's up. Refresh?","Wiener gogeener shliener man! Refresh tiiiime."][Math.floor(x(0,4))]},W=(t(33),function(){var e=o.a.useState(1),n=Object(s.a)(e,2),t=n[0],i=n[1];return o.a.useEffect(function(){if(u.isWebGLAvailable()){var e=new d.M({antialias:!1,alpha:!0});e.setSize(window.innerWidth,window.innerHeight),e.setPixelRatio(window.devicePixelRatio/t),e.autoClear=!1,e.clear();var n=!1;if(console.log("window height: ",window.innerHeight),console.log("window width: ",window.innerWidth),window.innerHeight>window.innerWidth&&(n=!0),e.domElement.id="dom",e.domElement.className="position-fixed",!1===document.body.contains(document.getElementById("dom")))document.body.append(e.domElement);else{var i=document.getElementById("dom");null!==i&&(document.body.removeChild(i),document.body.append(e.domElement))}var o=new d.E,r=new d.z(70,window.innerWidth/window.innerHeight,1,3e3);r.position.set(0,0,0),function(e){var n=new d.l("rgb(255,150,80)",1);n.position.set(500,300,-500),n.rotateX(50),e.add(n);new d.m(n);var t=new d.p(16777215,2302755,1);e.add(t)}(o),function(e,n,t,i,o){var r=1===i,a=!1,s=!1,c={x:0,y:0};window.addEventListener("resize",function(){t.aspect=window.innerWidth/window.innerHeight,t.updateProjectionMatrix(),n.setSize(window.innerWidth,window.innerHeight)}),e.background=new d.i("rgb(18,54,89)");var l={focus:49,aperature:.005,maxBlur:.01},u=new f.a(e,t,{focus:l.focus,aperture:l.aperature,maxblur:l.maxBlur}),W=new w.a(n),z=new g.a(e,t);if(W.addPass(z),1===i){W.addPass(u);var C=new v.a(new d.J(window.innerWidth,window.innerHeight),.7,.09,.09);W.addPass(C)}var M=new y.a;if(W.addPass(M),!o){var B=new p.a;B.add(l,"focus",0,400,.5).onChange(function(){return b(u,"focus",l.focus)}),B.add(l,"aperature",0,1,.001).onChange(function(){return b(u,"aperture",l.aperature)}),B.add(l,"maxBlur",0,.05,.001).onChange(function(){return b(u,"maxblur",l.maxBlur)}),B.close()}var S=0,k=new d.H(o?4:6,r?16:8,r?36:18),I=new d.u({color:"rgb(23,195,230)",emissive:"rgb(0,0,0)",specular:"rgb(255,220,0)",shininess:30,reflectivity:1,refractionRatio:.98}),H=new d.r(k,I);H.geometry.computeBoundingSphere(),H.position.set(0,0,-50),H.scale.z=.15;var R=new d.G(H.position,o?4:6);e.add(H),console.log("camera pos z: ",t.position.z),console.log("player pos z",H.position.z),console.log("distance z: ",t.position.z-H.position.z);o?document.addEventListener("touchmove",function(e){if(e.preventDefault(),!s&&!a){c.x=e.touches[0].clientX/window.innerWidth*2-1,c.y=-e.touches[0].clientY/window.innerHeight*2+1;var n=new d.K(c.x,c.y,.5);n.unproject(t);var i=n.sub(t.position).normalize(),o=-(t.position.z+50)/i.z,r=t.position.clone().add(i.multiplyScalar(o));H.position.copy(r)}},!1):document.addEventListener("mousemove",function(e){if(e.preventDefault(),!s&&!a){c.x=e.clientX/window.innerWidth*2-1,c.y=-e.clientY/window.innerHeight*2+1;var n=new d.K(c.x,c.y,.5);n.unproject(t);var i=n.sub(t.position).normalize(),o=-(t.position.z+50)/i.z,r=t.position.clone().add(i.multiplyScalar(o));H.position.copy(r)}},!1);var A=document.getElementById("winLoseText"),G=document.getElementById("timerBigLineAni"),P=document.getElementById("timerSmallLineAni"),T=new d.h,D=0,j=50,F="Left: ".concat(50..toString()),O=document.getElementById("timerDiv"),Y=document.getElementById("instructionsContainer"),$=new d.u({color:"rgb(175,130,85)",emissive:"rgb(175,130,85)",specular:"rgb(50,50,50)",shininess:0,reflectivity:0,refractionRatio:0}),q=500;o&&(q=375),console.log("moon x pos: ",q),$.opacity=.1;var K=new d.H(400,r?30:15,r?30:15),U=new d.r(K,$);U.position.set(q,300,-400),U.scale.z=.1;var J=new d.u({color:"rgb(15,59,102)",emissive:"rgb(0,0,0)",specular:"rgb(255,230,50)",shininess:2,reflectivity:.1,refractionRatio:.1}),N=new d.H(175,r?20:10,r?20:10),X=new d.u({color:"rgb(23,69,115)",emissive:"rgb(0,0,0)",specular:"rgb(200,180,50)",shininess:1,reflectivity:.1,refractionRatio:.1}),_=[],Q=new d.k(50,150,r?12:6,r?6:3);_=function(){for(var e=0;e<35;e++){var n=new d.r(Q,X);n.position.set(e*x(70,140)-2e3,30*Math.random()-150,-200),_.push(n)}return _}();var Z=new d.r(N,J);Z.position.set(-300,-175,-300),Z.scale.set(1.2,1.5,.4);var V=new d.r(N,J);V.position.set(0,-250,-300),V.scale.set(1.2,1.5,.4);var ee=new d.r(N,J);ee.position.set(600,-175,-300),ee.scale.set(1.2,1.5,.4);var ne=new d.r(N,J);ne.position.set(900,-250,-300),ne.scale.set(1.2,1.5,.4),e.add.apply(e,[Z,V,ee,ne].concat(Object(m.a)(_),[U]));var te=1,ie=.15;o&&(ie=.005);var oe=new d.e(9,9,9,1,1,1);oe.computeBoundingBox();var re=new d.u({color:"rgb(230,132,34)"}),ae=new d.r(oe,re);ae.position.set(2350,0,-50),ae.scale.z=.15;var se=new d.d(new d.K,new d.K);se.setFromObject(ae),e.add(ae);var de=new h.b(ae.material.color).to(new d.i("rgb(255,210,200)"),100).repeat(1/0).yoyo(!0).easing(h.a.Quadratic.InOut).start();requestAnimationFrame(function e(n){if(H.geometry.boundingSphere,!s&&!a){A&&G&&P&&O&&!a&&H.geometry.boundingSphere&&se.intersectsSphere(R)&&(s=!0,console.log("COLLISION"),G.style.animationPlayState="paused",P.style.animationPlayState="paused",O.classList.add("blink"),A.classList.add("slowUIEnter"),A.innerHTML=E()),D=T.getDelta(),j-=1*D,F="Left: ".concat(Math.floor(j)),O&&(O.innerHTML=F),j<=45&&Y&&!Y.classList.contains("exitDom")&&Y.classList.add("exitDom"),j<=44&&Y&&Y.remove(),Z.position.x-=.04,V.position.x-=.04,ee.position.x-=.04,ne.position.x-=.04;for(var t=0;t<35;t++)_[t].position.x-=6,_[t].position.x<=-2e3&&(_[t].position.x=2e3);A&&G&&P&&Math.floor(j)<=0&&(a=!0,G.style.animationPlayState="paused",P.style.animationPlayState="paused",A.classList.add("slowUIEnter"),A.classList.add("winningAnimation"),A.innerHTML=L())}if(te=Math.sign(H.position.y),ae.rotateZ(.05),ae.position.x-=o?4.5:3,ae.position.y+=te*ie,(ae.position.y===H.position.y||(te>=0?ae.position.y>H.position.y:ae.position.y<H.position.y))&&(ae.position.y=H.position.y),ae.position.x<=-250&&!a&&!s?ae.position.x=x(150,750):ae.position.x<=-250&&(s||s)&&(ae.position.x=-249),ae.geometry.boundingBox&&se.copy(ae.geometry.boundingBox).applyMatrix4(ae.matrixWorld),de.update(n),s){S+=.1,H.position.y-=.1+S,Z.position.x-=.008,V.position.x-=.008,ee.position.x-=.008,ne.position.x-=.008;for(var i=0;i<35;i++)_[i].position.x-=.2,_[i].position.x<=-2e3&&(_[i].position.x=2e3)}else if(a){S+=.1,H.position.x+=.1+S,Z.position.x-=.008,V.position.x-=.008,ee.position.x-=.008,ne.position.x-=.008;for(var r=0;r<35;r++)_[r].position.x-=.2,_[r].position.x<=-2e3&&(_[r].position.x=2e3)}requestAnimationFrame(e),W.render(.1)})}(o,e,r,t,n)}else{var a=u.getWebGLErrorMessage();document.body.appendChild(a)}},[t]),o.a.createElement("div",{"data-testid":"canvas",id:"canvas"},o.a.createElement("button",{id:"qualityBtn",onClick:function(){i(2.5===t?1:2.5)}},"QUALITY"),o.a.createElement("div",{id:"timerContainer"},o.a.createElement("div",{id:"timerCircleAni"},o.a.createElement("div",{id:"timerBigLineAni"}),o.a.createElement("div",{id:"timerMiddleDot"}),o.a.createElement("div",{id:"timerSmallLineAni"})),o.a.createElement("div",{id:"timerDiv"})),o.a.createElement("div",{id:"instructionsContainer"},o.a.createElement("div",{id:"instructionsText"},"Avoid the Squares!")),o.a.createElement("div",{id:"winLoseText"}))});var z=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(W,{key:0}))},C=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,35)).then(function(n){var t=n.getCLS,i=n.getFID,o=n.getFCP,r=n.getLCP,a=n.getTTFB;t(e),i(e),o(e),r(e),a(e)})};a.a.createRoot(document.getElementById("root")).render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(z,null))),C()}},[[23,1,2]]]);
//# sourceMappingURL=main.4f04b200.chunk.js.map